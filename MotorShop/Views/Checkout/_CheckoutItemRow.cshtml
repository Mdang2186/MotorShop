@model MotorShop.ViewModels.CheckoutLineVm

@{
    // mode = "card" (mặc định) hoặc "compact" nếu sau này muốn dùng ở chỗ khác
    var mode = (ViewData["mode"] as string) ?? "card";
}

@if (mode == "card")
{
    <div class="flex items-center gap-3 rounded-xl border border-gray-100 bg-white/90 shadow-sm p-3">
        <!-- Hình ảnh xe -->
        <div class="shrink-0">
            @if (!string.IsNullOrWhiteSpace(Model.ImageUrl))
            {
                <img src="@Model.ImageUrl"
                     alt="@Model.Name"
                     class="w-14 h-14 rounded-xl object-cover border border-gray-200" />
            }
            else
            {
                <div class="w-14 h-14 rounded-xl bg-gray-100 border border-gray-200 grid place-items-center text-gray-400">
                    <i class="fa-solid fa-motorcycle"></i>
                </div>
            }
        </div>

        <!-- Thông tin xe -->
        <div class="flex-1 min-w-0">
            <div class="flex items-start justify-between gap-2">
                <div class="min-w-0">
                    <div class="text-sm font-semibold text-gray-900 truncate">
                        @Model.Name
                    </div>
                    <div class="mt-0.5 text-xs text-gray-500">
                        Đơn giá: @Model.UnitPrice.ToString("#,0") ₫
                    </div>
                </div>

                <div class="text-right text-xs text-gray-500 whitespace-nowrap">
                    <div class="inline-flex items-center px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 border border-blue-100 font-medium">
                        x @Model.Quantity
                    </div>
                </div>
            </div>

            <div class="mt-2 flex items-center justify-between text-sm">
                <span class="text-xs text-gray-500">
                    Tạm tính
                </span>
                <span class="font-semibold text-gray-900">
                    @Model.Subtotal.ToString("#,0") ₫
                </span>
            </div>
        </div>
    </div>
}
else
{
    <!-- Dạng compact: dùng nếu cần hiển thị đơn giản ở nơi khác -->
    <div class="flex items-center justify-between py-1 text-sm">
        <div class="flex items-center gap-2 min-w-0">
            @if (!string.IsNullOrWhiteSpace(Model.ImageUrl))
            {
                <img src="@Model.ImageUrl"
                     alt="@Model.Name"
                     class="w-9 h-9 rounded-lg object-cover border border-gray-200" />
            }
            else
            {
                <div class="w-9 h-9 rounded-lg bg-gray-100 border border-gray-200 grid place-items-center text-gray-400 text-xs">
                    <i class="fa-solid fa-motorcycle"></i>
                </div>
            }
            <span class="truncate text-gray-800">@Model.Name</span>
        </div>
        <div class="flex items-center gap-3 whitespace-nowrap">
            <span class="text-xs text-gray-500">x @Model.Quantity</span>
            <span class="font-semibold text-gray-900">@Model.Subtotal.ToString("#,0") ₫</span>
        </div>
    </div>
}
